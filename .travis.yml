language: python

sudo: required

services:
  - docker

install:
  #- docker pull alexblaj/cloudappv1_frontend
  #- docker pull alexblaj/cloudappv1_reporting
  #- docker pull alexblaj/cloudappv1_backend
  #- docker-compose build
  - ls
  - pyhton -m pip install --ugragrade pip
  - docker build -t alexblaj/cloudappv1_frontend . -f ./frontEnd/Dockerfile #./fronEnd
  - ls
  - docker build -t alexblaj/cloudappv1_backend . -f ./backEnd/Dockerfile #./backEnd
  - docker build -t alexblaj/cloudappv1_reporting . -f ./reporting/Dockerfile #./reporting

script:
  - pip3 install -r req_travis.txt

after_succes:
  - echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_ID" --password-stdin
  - docker push alexblaj/cloudappv1_frontend
  - docker push alexblaj/cloudappv1_backend
  - docker push alexblaj/cloudappv1_reporting